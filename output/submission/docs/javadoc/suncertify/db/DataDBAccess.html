<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_13) on Thu Apr 11 16:04:33 BST 2013 -->
<title>DataDBAccess</title>
<meta name="date" content="2013-04-11">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DataDBAccess";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataDBAccess.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../suncertify/db/DatabaseException.html" title="class in suncertify.db"><span class="strong">Prev Class</span></a></li>
<li><a href="../../suncertify/db/DBMain.html" title="interface in suncertify.db"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?suncertify/db/DataDBAccess.html" target="_top">Frames</a></li>
<li><a href="DataDBAccess.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">suncertify.db</div>
<h2 title="Class DataDBAccess" class="title">Class DataDBAccess</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>suncertify.db.DataDBAccess</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">DataDBAccess</span>
extends java.lang.Object</pre>
<div class="block">This class will be used to take care of low level db access
 This will keep Data.java clean and manageable and will make use of the
 OOP concept of delegation through the use of the Delegation pattern</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>William Brosnan</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../suncertify/db/DataDBAccess.html#ACTUAL_FIELD_LENGTH">ACTUAL_FIELD_LENGTH</a></strong></code>
<div class="block">Field length in bytes</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../suncertify/db/DataDBAccess.html#DATABASE_NAME">DATABASE_NAME</a></strong></code>
<div class="block">Constant to hold the database name</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../suncertify/db/DataDBAccess.html#ENCODING">ENCODING</a></strong></code>
<div class="block">The character encoding is 8 bit US ASCII</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../suncertify/db/DataDBAccess.html#FIELD_NAME_LENGTH">FIELD_NAME_LENGTH</a></strong></code>
<div class="block">Length in bytes of field name</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../suncertify/db/DataDBAccess.html#MAGIC_COOKIE_LENGTH">MAGIC_COOKIE_LENGTH</a></strong></code>
<div class="block">The number of bytes used to hold the magic cookie value</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../suncertify/db/DataDBAccess.html#MAGIC_COOKIE_VALUE">MAGIC_COOKIE_VALUE</a></strong></code>
<div class="block">The value of the magic cookie in the database for validation purposes</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../suncertify/db/DataDBAccess.html#NUMBER_OF_FIELDS_LENGTH">NUMBER_OF_FIELDS_LENGTH</a></strong></code>
<div class="block">The number of bytes used to hold the number of fields in a record</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../suncertify/db/DataDBAccess.html#RECORD_DELETION_STATUS_LENGTH">RECORD_DELETION_STATUS_LENGTH</a></strong></code>
<div class="block">1 byte flag.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../suncertify/db/DataDBAccess.html#DataDBAccess(java.lang.String, suncertify.db.LockManager)">DataDBAccess</a></strong>(java.lang.String&nbsp;dbLocation,
            <a href="../../suncertify/db/LockManager.html" title="class in suncertify.db">LockManager</a>&nbsp;locker)</code>
<div class="block">Constructor that reads the header information in the database and
 sets the offset to the start of the first record</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../suncertify/db/DataDBAccess.html#create(java.lang.String[])">create</a></strong>(java.lang.String[]&nbsp;data)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../suncertify/db/DataDBAccess.html#delete(int)">delete</a></strong>(int&nbsp;recNo)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int[]</code></td>
<td class="colLast"><code><strong><a href="../../suncertify/db/DataDBAccess.html#find(java.lang.String[])">find</a></strong>(java.lang.String[]&nbsp;criteria)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../suncertify/db/DataDBAccess.html#getPositionToInsert()">getPositionToInsert</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<td class="colLast"><code><strong><a href="../../suncertify/db/DataDBAccess.html#read(int)">read</a></strong>(int&nbsp;recNo)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../suncertify/db/DataDBAccess.html#update(int, java.lang.String[])">update</a></strong>(int&nbsp;recNo,
      java.lang.String[]&nbsp;data)</code>
<div class="block">Updates a record in the database</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MAGIC_COOKIE_LENGTH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAGIC_COOKIE_LENGTH</h4>
<pre>public static final&nbsp;int MAGIC_COOKIE_LENGTH</pre>
<div class="block">The number of bytes used to hold the magic cookie value</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#suncertify.db.DataDBAccess.MAGIC_COOKIE_LENGTH">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="MAGIC_COOKIE_VALUE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAGIC_COOKIE_VALUE</h4>
<pre>public static final&nbsp;int MAGIC_COOKIE_VALUE</pre>
<div class="block">The value of the magic cookie in the database for validation purposes</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#suncertify.db.DataDBAccess.MAGIC_COOKIE_VALUE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="NUMBER_OF_FIELDS_LENGTH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NUMBER_OF_FIELDS_LENGTH</h4>
<pre>public static final&nbsp;int NUMBER_OF_FIELDS_LENGTH</pre>
<div class="block">The number of bytes used to hold the number of fields in a record</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#suncertify.db.DataDBAccess.NUMBER_OF_FIELDS_LENGTH">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="FIELD_NAME_LENGTH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FIELD_NAME_LENGTH</h4>
<pre>public static final&nbsp;int FIELD_NAME_LENGTH</pre>
<div class="block">Length in bytes of field name</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#suncertify.db.DataDBAccess.FIELD_NAME_LENGTH">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="ACTUAL_FIELD_LENGTH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ACTUAL_FIELD_LENGTH</h4>
<pre>public static final&nbsp;int ACTUAL_FIELD_LENGTH</pre>
<div class="block">Field length in bytes</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#suncertify.db.DataDBAccess.ACTUAL_FIELD_LENGTH">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="RECORD_DELETION_STATUS_LENGTH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RECORD_DELETION_STATUS_LENGTH</h4>
<pre>public static final&nbsp;int RECORD_DELETION_STATUS_LENGTH</pre>
<div class="block">1 byte flag. 00 implies valid record, 0xFF implies deleted record</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#suncertify.db.DataDBAccess.RECORD_DELETION_STATUS_LENGTH">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="ENCODING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ENCODING</h4>
<pre>public static final&nbsp;java.lang.String ENCODING</pre>
<div class="block">The character encoding is 8 bit US ASCII</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#suncertify.db.DataDBAccess.ENCODING">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DATABASE_NAME">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DATABASE_NAME</h4>
<pre>public static final&nbsp;java.lang.String DATABASE_NAME</pre>
<div class="block">Constant to hold the database name</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../constant-values.html#suncertify.db.DataDBAccess.DATABASE_NAME">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DataDBAccess(java.lang.String, suncertify.db.LockManager)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DataDBAccess</h4>
<pre>public&nbsp;DataDBAccess(java.lang.String&nbsp;dbLocation,
            <a href="../../suncertify/db/LockManager.html" title="class in suncertify.db">LockManager</a>&nbsp;locker)
             throws java.io.FileNotFoundException,
                    java.io.IOException,
                    <a href="../../suncertify/db/DatabaseException.html" title="class in suncertify.db">DatabaseException</a></pre>
<div class="block">Constructor that reads the header information in the database and
 sets the offset to the start of the first record</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dbLocation</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code></dd>
<dd><code>java.io.IOException</code></dd>
<dd><code><a href="../../suncertify/db/DatabaseException.html" title="class in suncertify.db">DatabaseException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="read(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;java.lang.String[]&nbsp;read(int&nbsp;recNo)
                        throws <a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a></code></dd></dl>
</li>
</ul>
<a name="update(int, java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public&nbsp;void&nbsp;update(int&nbsp;recNo,
          java.lang.String[]&nbsp;data)
            throws <a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a>,
                   <a href="../../suncertify/db/DatabaseException.html" title="class in suncertify.db">DatabaseException</a></pre>
<div class="block">Updates a record in the database</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>recNo</code> - </dd><dd><code>data</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a></code></dd>
<dd><code><a href="../../suncertify/db/DatabaseException.html" title="class in suncertify.db">DatabaseException</a></code></dd></dl>
</li>
</ul>
<a name="delete(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre>public&nbsp;void&nbsp;delete(int&nbsp;recNo)
            throws <a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a>,
                   <a href="../../suncertify/db/DatabaseException.html" title="class in suncertify.db">DatabaseException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a></code></dd>
<dd><code><a href="../../suncertify/db/DatabaseException.html" title="class in suncertify.db">DatabaseException</a></code></dd></dl>
</li>
</ul>
<a name="find(java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>find</h4>
<pre>public&nbsp;int[]&nbsp;find(java.lang.String[]&nbsp;criteria)
           throws <a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a></code></dd></dl>
</li>
</ul>
<a name="create(java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public&nbsp;int&nbsp;create(java.lang.String[]&nbsp;data)
           throws <a href="../../suncertify/db/DuplicateKeyException.html" title="class in suncertify.db">DuplicateKeyException</a>,
                  <a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../suncertify/db/DuplicateKeyException.html" title="class in suncertify.db">DuplicateKeyException</a></code></dd>
<dd><code><a href="../../suncertify/db/RecordNotFoundException.html" title="class in suncertify.db">RecordNotFoundException</a></code></dd></dl>
</li>
</ul>
<a name="getPositionToInsert()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getPositionToInsert</h4>
<pre>public&nbsp;int&nbsp;getPositionToInsert()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataDBAccess.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../suncertify/db/DatabaseException.html" title="class in suncertify.db"><span class="strong">Prev Class</span></a></li>
<li><a href="../../suncertify/db/DBMain.html" title="interface in suncertify.db"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?suncertify/db/DataDBAccess.html" target="_top">Frames</a></li>
<li><a href="DataDBAccess.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
